<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>Green Winter Vibe ‚Äî GreenGamesStudio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #06150a;
      --accent: #24d07d;
      --soft: #0c3b21;
      --glass: rgba(255,255,255,0.03);
    }
    * { box-sizing: border-box; }
    body {
      margin:0;
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(180deg, #04140a 0%, #071a0f 100%);
      color: #eafff2;
      overflow-x: hidden;
      -webkit-font-smoothing:antialiased;
    }

    /* Header + animated neon logo */
    header {
      text-align: center;
      padding: 26px 16px;
      background: linear-gradient(180deg, rgba(10,30,20,0.6), rgba(5,12,8,0.4));
      box-shadow: 0 4px 18px rgba(0,0,0,0.45);
      position: relative;
    }
    .logo {
      font-size: 34px;
      font-weight: 800;
      letter-spacing: 2px;
      color: var(--accent);
      text-transform: uppercase;
      display: inline-block;
      padding: 8px 16px;
      border-radius: 10px;
      box-shadow: 0 8px 40px rgba(36,208,125,0.08), 0 0 18px rgba(36,208,125,0.12) inset;
      background: linear-gradient(90deg, rgba(36,208,125,0.06), rgba(36,208,125,0.02));
      transform: translateZ(0);
      animation: neon 3.6s ease-in-out infinite;
    }
    @keyframes neon{
      0%{filter:drop-shadow(0 0 6px rgba(36,208,125,0.12)) saturate(1.0);opacity:0.95}
      50%{filter:drop-shadow(0 0 18px rgba(36,208,125,0.35)) saturate(1.2);opacity:1}
      100%{filter:drop-shadow(0 0 6px rgba(36,208,125,0.12)) saturate(1.0);opacity:0.95}
    }
    header p { margin:6px 0 0 0; opacity:.85 }

    /* Music control */
    .music-control{
      position:absolute; right:18px; top:18px; display:flex; gap:8px; align-items:center;
    }
    .music-btn{
      background:transparent; border:1px solid rgba(255,255,255,0.06); color:var(--accent); padding:8px 12px; border-radius:10px; cursor:pointer; font-weight:700;
      backdrop-filter: blur(4px);
    }

    /* Countdown */
    #countdown {
      font-size: 1.2rem;
      margin: 14px 0 0 0;
      text-align: center;
      color: var(--accent);
      font-weight: 700;
    }

    /* Snow */
    .snowflake {
      position: fixed;
      top: -10px;
      background: #fff;
      border-radius: 50%;
      opacity: 0.9;
      animation: fall linear infinite;
      pointer-events: none;
      z-index: 1000;
    }
    @keyframes fall {
      to { transform: translateY(110vh) rotate(360deg); opacity:0; }
    }

    /* Mini games section */
    .games {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      padding: 28px;
    }
    .game {
      background: linear-gradient(180deg, rgba(12,59,33,0.9), rgba(6,28,18,0.9));
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 8px 28px rgba(0,0,0,0.55);
      width: 300px;
      text-align: center;
      border:1px solid rgba(36,208,125,0.06);
    }
    .game h3 { color: var(--accent); margin-bottom: 10px; }
    .btn {
      background: var(--accent);
      color: #01210e;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 700;
    }

    footer {
      text-align: center;
      padding: 18px;
      background: rgba(6,24,12,0.6);
      color: #cfeee1;
      margin-top: 18px;
      border-top:1px solid rgba(255,255,255,0.02);
    }

    /* small screens */
    @media (max-width:600px){
      .logo{font-size:22px;padding:6px 10px}
      .game{width:100%}
      .music-control{position:static;margin-top:12px}
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">GreenGamesStudio</div>
    <p>Green Winter Vibe ‚Äî by Miras</p>
    <div id="countdown">–î–æ –∑–∏–º—ã: ...</div>

    <div class="music-control">
      <button id="tryPlayBtn" class="music-btn">‚ñ∂ –í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É</button>
      <button id="muteBtn" class="music-btn">üîà –í—ã–∫–ª –∑–≤—É–∫</button>
    </div>
  </header>

  <section class="games">
    <div class="game">
      <h3>üéÑ –°–Ω–µ–≥–æ–≤–∏–∫ –ö–ª–∏–∫–µ—Ä</h3>
      <p>–ù–∞–∂–∏–º–∞–π, —á—Ç–æ–±—ã –ø–æ—Å—Ç—Ä–æ–∏—Ç—å —Å–Ω–µ–≥–æ–≤–∏–∫–∞!</p>
      <button class="btn" onclick="clickSnowman()">–°–æ–±—Ä–∞—Ç—å ‚ùÑÔ∏è</button>
      <p id="snowmanScore">–°–Ω–µ–≥–æ–≤–∏–∫–æ–≤: 0</p>
    </div>

    <div class="game">
      <h3>üéÅ –ù–∞–π–¥–∏ –ø–æ–¥–∞—Ä–æ–∫</h3>
      <p>–ö–ª–∏–∫–Ω–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∫–Ω–æ–ø–∫—É!</p>
      <div style="display:flex;gap:8px;justify-content:center;margin-top:10px">
        <button class="btn" onclick="gift(1)">üéÅ</button>
        <button class="btn" onclick="gift(2)">üéÅ</button>
        <button class="btn" onclick="gift(3)">üéÅ</button>
      </div>
      <p id="giftMsg" style="margin-top:12px"></p>
    </div>

    <div class="game">
      <h3>‚ùÑÔ∏è –ú–∏–Ω–∏-–∏—Å—Ç–æ—Ä–∏—è</h3>
      <p>–ü–æ–¥ –æ–∫–Ω–æ–º ‚Äî –º—è–≥–∫–∏–π —Å–Ω–µ–≥, –≤ –∫–æ–º–Ω–∞—Ç–µ ‚Äî –∑–µ–ª—ë–Ω—ã–π —Å–µ—Ç–∞–ø.</p>
      <p style="opacity:.9">–ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Ç—ë–ø–ª–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.</p>
      <button class="btn" onclick="showMsg()" style="margin-top:8px">–ü–æ–¥–∞—Ä–∏—Ç—å –≤–∞–π–±</button>
      <p id="vibeMsg" style="margin-top:8px;color:var(--accent)"></p>
    </div>
  </section>

  <footer>
    <p>¬© 2025 GreenGamesStudio ‚Äî —Å–¥–µ–ª–∞–Ω–æ Miras</p>
  </footer>

  <!-- Audio: file name should match your uploaded file on GitHub (case sensitive) -->
  <audio id="music" src="Last%20Christmas.mp3" loop preload="auto"></audio>

  <script>
    // Countdown to 1 December
    function updateCountdown(){
      const now = new Date();
      const target = new Date(now.getFullYear(), 11, 1); // December 1
      if(now > target){ target.setFullYear(target.getFullYear()+1); }
      const diff = target - now;
      const days = Math.floor(diff/1000/60/60/24);
      const hours = Math.floor((diff/1000/60/60)%24);
      const mins = Math.floor((diff/1000/60)%60);
      const secs = Math.floor((diff/1000)%60);
      document.getElementById('countdown').textContent = `–î–æ –¥–µ–∫–∞–±—Ä—è –æ—Å—Ç–∞–ª–æ—Å—å: ${days}–¥ ${hours}—á ${mins}–º ${secs}—Å`;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();

    // Snow generator
    function createSnow(){
      const snow = document.createElement('div');
      snow.className = 'snowflake';
      const size = Math.random()*8+4;
      snow.style.width = snow.style.height = size+'px';
      snow.style.left = Math.random()*100+'vw';
      snow.style.animationDuration = (Math.random()*7+5)+'s';
      snow.style.opacity = (Math.random()*0.6+0.4).toFixed(2);
      document.body.appendChild(snow);
      setTimeout(()=>snow.remove(), 14000);
    }
    setInterval(createSnow, 180);

    // Games
    let snowmanScore = 0;
    function clickSnowman(){
      snowmanScore++;
      document.getElementById('snowmanScore').textContent = '–°–Ω–µ–≥–æ–≤–∏–∫–æ–≤: '+snowmanScore;
    }

    let secret = Math.floor(Math.random()*3)+1;
    function gift(num){
      if(num===secret){
        document.getElementById('giftMsg').textContent = '–ù–∞—à—ë–ª –ø–æ–¥–∞—Ä–æ–∫! üéâ';
        secret = Math.floor(Math.random()*3)+1;
      } else {
        document.getElementById('giftMsg').textContent = '–ù–µ —Ç—É—Ç... –ø–æ–ø—Ä–æ–±—É–π –µ—â—ë!';
      }
    }

    function showMsg(){
      document.getElementById('vibeMsg').textContent = '–¢—ë–ø–ª—ã–π –∑–µ–ª—ë–Ω—ã–π –≤–∞–π–± –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω ‚ú®';
      setTimeout(()=>document.getElementById('vibeMsg').textContent='',2500);
    }

    // Music handling: try autoplay, otherwise show play button
    const audio = document.getElementById('music');
    const tryBtn = document.getElementById('tryPlayBtn');
    const muteBtn = document.getElementById('muteBtn');

    // Helper to update mute button text
    function updateMuteText(){
      muteBtn.textContent = audio.muted ? 'üîà –í—ã–∫–ª –∑–≤—É–∫' : 'üîä –í–∫–ª –∑–≤—É–∫';
    }

    // Attempt to autoplay (may be blocked)
    function attemptAutoplay(){
      // Many browsers block autoplay unless muted or user gesture
      audio.play().then(()=>{
        // autoplay allowed
        tryBtn.style.display='none';
        audio.muted = false;
        updateMuteText();
      }).catch(()=>{
        // autoplay blocked ‚Äî show button
        tryBtn.style.display='inline-block';
        audio.muted = true; // keep muted until user action to avoid glitches
        updateMuteText();
      });
    }
    // Call on load
    attemptAutoplay();

    // User clicks to enable music (unmute + play)
    tryBtn.addEventListener('click', ()=>{
      audio.muted = false;
      audio.play().then(()=>{
        tryBtn.style.display='none';
        updateMuteText();
      }).catch(err=>{
        alert('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –º—É–∑—ã–∫—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ñ–∞–π–ª Last Christmas.mp3 –∑–∞–≥—Ä—É–∂–µ–Ω —Ä—è–¥–æ–º —Å index.html –Ω–∞ GitHub.');
      });
    });

    // Toggle mute quickly
    muteBtn.addEventListener('click', ()=>{
      audio.muted = !audio.muted;
      // if audio is paused try to play so mute has effect
      if(audio.paused){ audio.play().catch(()=>{}); }
      updateMuteText();
    });

    // If the audio file 404s, catch and inform user
    audio.addEventListener('error', ()=>{
      tryBtn.style.display='inline-block';
      console.warn('Music file not found at:', audio.src);
    });
  </script>
</body>
</html>
